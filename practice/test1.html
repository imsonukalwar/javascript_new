<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Simon Game</title>
  <style>
    .btn {
      width: 100px;
      height: 100px;
      margin: 10px;
      display: inline-block;
      opacity: 0.7;
      border: 2px solid black;
    }
    .flash {
      opacity: 1;
    }
    #yellow { background-color: yellow; }
    #red { background-color: rgb(35, 6, 143); }
    #purple { background-color: purple; }
    #green { background-color: green; }
  </style>
</head>
<body>

<h2>Press any key to start</h2>

<div id="yellow" class="btn"></div>
<div id="red" class="btn"></div>
<div id="purple" class="btn"></div>
<div id="green" class="btn"></div>

<script>
let gameSequence = [];
let level = 0;
let started = false;
let colors = ["yellow", "red", "purple", "green"];

let h2 = document.querySelector("h2");

document.addEventListener("keypress", function () {
  if (!started) {
    started = true;
    levelUp();
  }
});

// Flash effect
function flashButton(color) {
  let btn = document.getElementById(color);
  btn.classList.add("flash");
  setTimeout(() => {
    btn.classList.remove("flash");
  }, 250);
}

// Level up function
function levelUp() {
  level++;
  h2.innerText = `Level ${level}`;
  let randIndex = Math.floor(Math.random() * 3);
  let randomColor = colors[randIndex];
  gameSequence.push(randomColor);
  flashButton(randomColor);
}

// Button click handler
document.querySelectorAll(".btn").forEach(btn => {
  btn.addEventListener("click", function () {
    let clickedColor = this.id;
    if (clickedColor === gameSequence[gameSequence.length - 1]) {
      levelUp();
    } else {
      h2.innerText = "Game Over! Press any key to restart.";
      resetGame();
    }
  });
});

// Reset game
function resetGame() {
  gameSequence = [];
  level = 0;
  started = false;
}
</script>

</body>
</html>
